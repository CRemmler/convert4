<!DOCTYPE html>
<html>
  <head>
    <title>
      GbCC 3.0 Extensions
    </title>
    <link rel="stylesheet" href="css/netlogo.css" type="text/css">
    <script type="text/javascript" src="js/jquery.min.js"></script>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <link rel="stylesheet" type="text/css" href="css/style3.css">
    <script>
      jQuery(document).ready(function() {
        $(".room").css("display","none");
        $("input").on("click",function() {
          var value = $(this).attr("value");
          var name = $(this).attr("name");
          $("."+name).css("display","none");
          $("#"+value).css("display","block");
        });
        $(".init").click();
        $(".mapTable img").css("border","2px solid orange");
        $(".graphTable img").css("border","2px solid blue");
        $(".physicsTable img:not(.obj)").css("border","2px solid limegreen");
        $(".physicsTable .obj img").css("border","0px solid white");
        //<span class="more" onclick="function() { $('#physicsWorldSettingsWrapper .more').hide(); 
        //$('#physicsWorldSettingsWrapper .less').show(); $('#physicsWorldSettings').show(); }">More</span>
        //<span class="less" onclick="function() { $('#physicsWorldSettingsWrapper .less').hide(); $('#physicsWorldSettingsWrapper .more').show(); $('#physicsWorldSettings').show(); }">Less</span>

        $(".more").click(function() {
          var parent = $(this).parent().attr("id");
          $("#"+parent+" .more").hide();
          $("#"+parent+" .less").show();
          $("#"+parent+"Info").show();
        });
        $(".less").click(function() {
          var parent = $(this).parent().attr("id");
          $("#"+parent+" .less").hide();
          $("#"+parent+" .more").show();
          $("#"+parent+"Info").hide();
        });
        $(".less").click();
        function hideObjects() {
          var objects = ["body","line","circle","polygon","target","shape","object","shape-body", "physics-ideas", "graph-ideas", "rectangle"];
          for (var i=0; i<objects.length; i++) {
            $("."+objects[i]+"-obj-info").hide();
            //$("#"+objects[i]+"-obj").css("border", "2px solid #eee");
            $("#"+objects[i]+"ObjectSettings"+" .less").click();
          }
        }
        hideObjects();
        $(".obj").click(function() {
          var id = $(this).attr("id");
          if ($(this).hasClass("bodySelected")) {
            $("."+id+"-info").hide();
            $(this).removeClass("bodySelected");
          } else {
            $("."+id+"-info").show();
            $(this).addClass("bodySelected");
          }
          /*
          hideObjects();
          var id = $(this).attr("id");
          if ($(this).hasClass("bodySelected")) { 
            $("."+id+"-info").hide();
            $(this).css("border", "2px solid #eee");
            $(this).removeClass("bodySelected");
          } else {
            $(".bodySelected").removeClass("bodySelected");
            $("."+id+"-info").show();
            $(this).css("border", "2px solid red");
            $(this).addClass("bodySelected");
          }*/
        });
      });
    </script>
    <style>
      th, td {padding: 5px; text-align:left; border-bottom:1px solid gray}
      td { vertical-align: top;}
      td:first-child {font-weight: bold;}
      table {font-size: 14px;}
      p {font-size:14px;}
      .green {color: limegreen; border:0px;}
      .red {color: red; border:0px;}
      .blue { color: blue; border:0px; }
      .gray { color: gray; border:0px; }
      .black { color: black; border:0px; }
      .purple { color: purple; border: 0px;}
      img {border-radius: 0px;}
      .more, .less {cursor: default};
      .mediumImage {width: 200px;}
      .update {border: 1px solid red; background-color:yellow;}
    </style>
  </head>
  <body>
    <h1>
      NetLogo GbCC 3.0 View Extensions
    </h1>

    <h2>Layers in a NetLogo View</h2>
      <h3>Patches + Drawing + Turtles</h3>
        <p><img src="images/layers-7.png" style="width:400px">
      
      <h3>Patches + Javascript Extension + Image Extension + Drawing + Turtles</h3>
        <p><img src="images/layers-6.png" style="width:480px"> 
      
    <h2>View Extensions</h2>
<table>
  <tr>
    <td><h3>Graph</h3></td>
    <td><h3>Map</h3></td>
    <td><h3>Physics</h3></td>
    <td><h3>Image</h3></td>
  </tr>
  <tr>
    <td><img src="images/ext-2.png"></td>
    <td><img src="images/ext-3.png"></td>
    <td><img src="images/ext-4.png"></td>
    <td><img src="images/ext-1.png"></td>
  </tr>
</table>

<h2>Graph Extension</h2>
<br>Geogebra API <a href="https://wiki.geogebra.org/en/Reference:JavaScript">https://wiki.geogebra.org/en/Reference:JavaScript</a>

<!--
<br><img alt="Patch Command" src="images/graph-ext.png">
-->
<h3>Graph Commands</h3>
<table class="graphTable">
  <tr>
    <td></td>
    <td>
<pre>
  <span class='green'>extensions</span> [ graph ]
</pre>
    </td>
  </tr>
  <tr>
    <td><img src="./images/graph-en.png"></td>
    <td>
<pre>
GRAPH
</pre>
<pre>
&#x2713; <span class='blue'>graph:show-graph</span>
&#x2713; <span class='blue'>graph:hide-graph</span>
&#x2713; <span class='blue'>graph:show-toolbar</span> 
&#x2713; <span class='blue'>graph:hide-toolbar</span> 
&#x2713; <span class='blue'>graph:bring-to-front</span> 
&#x2713; <span class='blue'>graph:send-to-back</span> 
&#x2713; <span class='blue'>graph:set-graph-offset</span><span class='red'> [ left top width height ] </span> 
&#x2713; <span class='blue'>show graph:get-graph-offset</span> <span class="gray">;; returns [ left top width height ]</span> 
&#x2713; <span class='blue'>graph:set-opacity</span><span class='red'> 0.5 </span> 
&#x2713; <span class='blue'>show graph:get-opacity</span> <span class="gray">;; returns any number between 0 and 1</span> 
&#x2713; <span class='blue'>show graph:center-view</span> <span class='red'> [ x y ] </span> 
&#x2713; <span class='blue'>show graph:mouse-on</span> <span class="update">*** new ***</span>
&#x2713; <span class='blue'>show graph:mouse-off</span> <span class="update">*** new ***</span>
</pre>
<pre>
&#x2713; <span class='blue'>graph:set-all</span><span class='red'> "long-string-of-xml" </span> 
&#x2713; <span class='blue'>show graph:get-all</span> <span class="gray">;; returns "long-string-of-xml"</span> 
&#x2713; <span class='blue'>graph:import-ggb-file</span> <span class="red">"filename.txt"</span><span class="update">*** new ***</span>
&#x2713; <span class='blue'>graph:export-ggb</span> <span class="red">"filename.txt"</span> 
&#x2713; <span class='blue'>graph:import-ggb</span><span class="update">*** new ***</span>
<!--<span class='blue'>graph:get-ggb-list</span> <span class="gray">;; returns list of ggb filenames</span>-->
</pre>
<!--<span class='blue'>graph:set-data</span> <span class="red">&lt;a string of json&gt;</span>
<span class='blue'>show graph:get-data</span> <span class="gray">;; &lt;a string of json&gt; </span>
<span class='blue'>graph:import-file</span> <span class="red">filename</span>
<span class='blue'>graph:export-file</span>-->
    </td>
  </tr>
  <tr>
    <td><img src="./images/graph-pt.png"></td>
    <td>
<pre>
POINTS
</pre>
<pre>
&#x2713; <span class='blue'>graph:create-point</span> <span class='red'>"Point1" </span>[ <span class="red">0 0</span> ]
&#x2713; <span class='blue'>graph:create-points </span> [ [ <span class='red'>"Point1" </span>[ <span class="red">0 2</span> ] ] [ <span class='red'>"point-2"</span> [ <span class="red">0 0</span> ] ] ]
&#x2713; <span class='blue'>show graph:get-point "Point1" </span> <span class="gray">;; [ "Point1" [ 0 2 ] ]</span> 
&#x2713; <span class='blue'>show graph:get-points </span> <span class="gray">;; [ [ "Point1" [ 0 2 ] ] [ "point-2" [ 0 0 ] ] ]</span>
&#x2713; <span class='blue'>graph:delete-point</span> <span class='red'>"Point1" </span>
&#x2713; <span class='blue'>graph:delete-points</span> 
</pre>
<!--<span class='blue'>graph:delete-point</span> <span class='red'>"point-1"</span> 
<span class='blue'>graph:delete-points</span>
-->
<pre>
&#x2713; <span class='blue'>graph:set-x</span><span class='red'> "Point1" 0 </span> 
&#x2713; <span class='blue'>graph:set-y</span><span class='red'> "Point1" 2 </span> 
&#x2713; <span class='blue'>graph:set-xy</span><span class='red'> "Point1" </span>[ <span class='red'>0 2</span> ] 
&#x2713; <span class='blue'>show graph:get-x</span> <span class='red'>"Point1"</span> <span class="gray">;; returns 0</span> 
&#x2713; <span class='blue'>show graph:get-y</span> <span class='red'>"Point1"</span> <span class="gray">;; returns 2</span>
&#x2713; <span class='blue'>show graph:get-xy</span> <span class='red'>"Point1"</span> <span class="gray">;; returns [ 0 2 ] </span>
</pre>
    </td>
  </tr>
  
  
  <tr>
    <td><img src="./images/graph-cons.png"></td>
    <td>
<pre>
OBJECTS (Including Points)
</pre>
<pre>
&#x2713; <span class='blue'>set </span><span class='black'> new-object</span><span class='blue'> graph:get-object</span> <span class='red'> "MyTriangle1" </span><span class="gray">;; returns a list with a name and a description</span> 
&#x2713; <span class='blue'>set </span><span class='black'> new-objects</span><span class='blue'> graph:get-objects</span> <span class="gray">;; returns list of names and definitions of objects, in order of creation </span> 
&#x2713; <span class='blue'>graph:create-object</span> <span class='black'> new-object </span>
&#x2713; <span class='blue'>graph:create-objects</span> <span class='black'> new-objects  </span>
&#x2713; <span class='blue'>graph:delete-object</span>  <span class='red'>"Triangle1" </span>
&#x2713; <span class='blue'>graph:delete-objects</span>
</pre>
<pre>
&#x2713; <span class='blue'>show graph:get-value</span> <span class='red'> "MyTriangle1" </span> <span class="gray">;; returns getValue</span> 
&#x2713; <span class='blue'>show graph:get-object-type</span> <span class='red'> "MyTriangle1" </span> <span class="gray">;; returns type</span> 
&#x2713; <span class='blue'>show graph:object-exists</span> <span class='red'> "MyTriangle1" </span> <span class="gray">;; returns boolean</span> 
&#x2713; <span class='blue'>graph:rename-object</span> <span class='red'> "MyTriangle1" "MyTriangle2" </span>
&#x2713; <span class='blue'>graph:show-object</span> <span class='red'> "MyTriangle1" </span> 
&#x2713; <span class='blue'>graph:hide-object</span> <span class='red'> "MyTriangle1" </span> 
&#x2713; <span class='blue'>graph:show-object-label</span> <span class='red'> "MyTriangle1" </span> 
&#x2713; <span class='blue'>graph:hide-object-label</span> <span class='red'> "MyTriangle1" </span>
&#x2713; <span class='blue'>graph:set-draggable</span> <span class='red'>"Point1" </span><span class='purple'>true</span> <span class="update">*** new ***</span>
&#x2713; <span class='blue'>show graph:get-draggable</span> <span class='red'>"Point1" </span><span class="gray">;; returns true</span> <span class="update">*** new ***</span> 
&#x2713; <span class='blue'>show graph:get-command-string</span> <span class='red'> "MyTriangle1" </span> <span class="gray">;; returns command string like Polygon(A, B, C)</span> <span class="update">*** new ***</span>
&#x2713; <span class='blue'>show graph:get-value-string</span> <span class='red'> "f" </span> <span class="gray">;; returns value string like "f(x) = 0.25x + 3.75"</span> <span class="update">*** new ***</span>
</pre>
</td>
  </tr>
<!--  
<span class='blue'>graph:create-object</span> <span class='red'> [ "my-point" "(0, 0)"]</span>

  <tr>
    <td><img src="./images/graph-world.png"></td>
    <td>
<pre>
;; xml
<span class='blue'>graph:get-xml</span> <span class="gray">;; returns &lt;a string of xml&gt;</span> 
<span class='blue'>graph:set-xml</span> <span class="red">&lt;a string of xml&gt;</span>
 </pre>
    </td>
  </tr>
-->  
<tr>
  <td><img src="./images/graph-trans.png"></td>
  <td>
<pre>
TRANSLATION between Patch Coordinates and GeoGebra Coordinates
</pre>
<pre>
&#x2713; <span class='blue'>show graph:graph-to-patch </span><span class='red'>[ 0 0 ]</span> <span class="gray">;; returns graph coordinates</span>
&#x2713; <span class='blue'>show graph:patch-to-graph </span><span class='red'>[ 0 0 ]</span> <span class="gray">;; returns patch coordinates</span>
&#x2713; <span class='blue'>graph:update-graph</span> <span class='gray'>;; upon changing center or zoom of graph, sync graph coords and patch coords</class>
</pre>
  </td>
</tr>
<tr>
  <td>
  </td>
  <td>
<pre>
GeoGebra Eval Commands
</pre>
<pre>
&#x2713; <span class="blue">graph:eval-command</span> <span class="red">geogebra-command </span>
<span class="blue">show graph:eval-reporter</span> <span class="red">geogebra-command</span> <span class="gray">;; returns a value</span>
</pre>
</table>


<span id="graph-ideas-obj" class="obj">
<h3><input type="checkbox" selected>Ideas</h3>
<div class='graph-ideas-obj-info'>
<table>
  <tr>
    <td>
      1. Linear Regression
      <br>
      <img width="200" src="./images/graph-3.png">
      <br>
    </td>
    <td>
<pre>
<span class='green'>extensions</span> [ graph ]
<span class='blue'>graph:create-graph</span>
<span class="gray">;; Save current state of points.</span>
<span class='blue'>set </span><span class="black">saved-graph </span><span class='blue'>graph:get-points</span> <span class="gray">;; returns points </span>
<span class="gray">;; Grab points from someone else.</span>
<span class='blue'>set </span><span class="black">new-points</span><span class='blue'> gbcc:get-from-user</span> <span class="red">"my-points"</span> <span class="gray">;; returns points </span>
<span class="gray">;; Add points in to your environment.</span>
<span class='blue'>graph:create-points </span><span class='black'>new-points </span>
<span class="gray">;; Something about including new points to linear regression.</span>
</pre>
    </td>
  </tr>
  <tr>
    <td>
      2. Same Area
      <br>
      <img width="200" src="./images/graph-1.png">
      <br>
    </td>
    <td>
<pre>
<span class='green'>extensions</span> [ graph ]
<span class='blue'>graph:show-graph</span>
<span class="gray">;; Save current state of points.</span>
<span class='blue'>set </span><span class="black">saved-graph </span><span class='blue'>graph:get-points</span> <span class="gray">;; returns points </span>
<span class="gray">;; Grab points from someone else.</span>
<span class='blue'>set </span><span class="black">new-points</span><span class='blue'> gbcc:get-from-user</span> <span class="red">"my-points"</span> <span class="gray">;; returns points </span>
<span class="gray">;; Add points in to your environment.</span>
<span class='blue'>graph:create-points </span><span class='black'>new-points </span>
</pre>
    </td>
  </tr>
  <tr>
    <td>
      3. Same Perimeter
      <br>
      <img width="200" src="./images/same-perim1.png">
      <br>
    </td>
    <td>
<pre>
<span class='green'>extensions</span> [ graph ]
<span class='blue'>graph:show-graph</span>
<span class="gray">;; Save current state of environment, locally.</span>
<span class='blue'>set </span><span class="black">saved-xml </span><span class='blue'>graph:export </span> 
<span class="gray">;; Grab xml from someone else, by clicking on gallery.</span>
<span class='blue'>set </span><span class="black">new-xml</span><span class='blue'> gbcc:get-from-user</span> <span class="red">"my-xml"</span> 
<span class="gray">;; Replace old environment with new environment.</span>
<span class='blue'>graph:import </span><span class='black'>new-xml </span>
<span class="gray">;; Change environment with Gui</span>
<span class="gray">;; Save new environment, where other users can access it.</span>
<span class='blue'>gbcc:set </span><span class='black'>"my-xml"</span> <span class="blue">graph:export</span>
<span class="gray">;; Share screenshot.</span>
<span class='blue'>gbcc:broadcast-view</span><span class='black'>""</span>
</pre>
    </td>
  </tr>
  <tr>
    <td>
      4. Operations on Functions
      <br>
      <img width="200" src="./images/graph-4.png">
      <br>
    </td>
    <td>
<pre>
<span class='green'>extensions</span> [ graph ]
<span class='blue'>graph:show-graph</span>
<span class="gray">;; Save objects, locally.</span>
<span class='blue'>set </span><span class="black">saved-objects </span><span class='blue'>graph:get-objects</span> 
<span class="gray">;; Grab objects from someone else, by clicking on gallery.</span>
<span class='blue'>set </span><span class="black">new-objects</span><span class='blue'> gbcc:get-from-user</span> <span class="red">user-id "my-objects"</span> 
<span class="gray">;; Add new objects.</span>
<span class='blue'>graph:create-objects </span><span class='black'>new-objects </span>
<span class="gray">;; Change environment with Gui</span>
<span class="gray">;; Save new environment, where other users can access it.</span>
<span class='blue'>gbcc:set </span><span class='black'>"my-objects"</span> <span class="blue">graph:get-objects</span>
<span class="gray">;; Share screenshot.</span>
<span class='blue'>gbcc:broadcast-view</span><span class='black'>""</span>
</pre>
    </td>
  </tr>
  <tr>
    <td>
      5. Triangle Animation Ants
      <br>
      <img width="200" src="./images/graph-5.png">
      <br>
    </td>
    <td>
<pre>
<span class='green'>extensions</span> [ graph ]
<span class='blue'>graph:show-graph</span>
<span class="gray">;; Create a turtle that controls a point.</span>
<span class='blue'>create-turtles</span><span class='red'> 1</span> [ 
  <span class='blue'>set</span> user-name (<span class='blue'>word</span><span class='red'> "carolyn"</span><span class='purple'> who</span>)
  <span class='blue'>graph:create-point</span> user-name [ <span class='blue'>graph:patch-to-graph</span> [<span class='purple'> xcor ycor</span> ] ] 
  <span class='blue'>set my-turtle-id</span> <span class='purple'>who</span>
]  
<span class="gray">;; Connect your point to the two other endpoints, to form a triangle.</span>
<span class='blue'>graph:eval-command</span>...
<span class="gray">;; Move the turtle around, and watch the triangle change, too.</span>
<span class='blue'>ask</span><span class='purple'> turtle</span> my-turtle-id [
  <span class='blue'>graph:set-xy</span> user-name [ <span class='blue'>graph:patch-to-graph</span> []<span class='purple'> xcor ycor</span> ] ] 
]
</pre>
<pre>
<span class="gray">;; Get data from others.</span>
<span class="gray">;; to gbcc-on-select [ user-id ] [ ;;create turtle and point and programatically make triangle...]</span>
<span class="gray">;; to gbcc-on-deselect [ user-id ] [ ;;remove turtle and point...]</span>
<span class="gray">;; to gbcc-on-forever-go [ user-id ] [ ;;move turtle and point ]</span>
</pre>
<pre>
<span class="gray">;; Version 1: Share each step, with others.</span>
<span class="gray">;; Version 2: Share each stamp, with others.</span>
<span class="gray">;; Version 3: Teacher saves stamps, replays action.</span>  
</pre>
    </td>
  </tr>
</table>
</div>

<h2>Maps Extension</h2>
<br>LeafletJS <a href='http://leafletjs.com/'>http://leafletjs.com/</a>
<br>GeoJson <a href="https://leafletjs.com/examples/geojson/">https://leafletjs.com/examples/geojson/</a>
<!--<br><img alt="Patch Command" src="images/maps-ext.png">-->

<h3>Maps Extension</h3>

<table class="mapTable">
  <tr>
    <td></td>
    <td>
<pre>
  <span class='green'>extensions</span> [ graph ]
</pre>
    </td>
  </tr>
  <tr>
    <td><img src="./images/map-en.png"></td>
    <td>
</pre>
<pre>
MAP
</pre>
<pre>
&#x2713; <span class='blue'>maps:show-map</span>
&#x2713; <span class='blue'>maps:hide-map</span>
&#x2713; <span class='blue'>maps:bring-to-front</span> 
&#x2713; <span class='blue'>maps:send-to-back</span> 
&#x2713; <span class='blue'>maps:set-map-offset</span><span class='red'> [ left top width height ] </span>
&#x2713; <span class='blue'>show maps:get-map-offset</span> <span class="gray">;; returns [ left top width height ]</span> 
&#x2713; <span class='blue'>maps:set-opacity</span><span class='red'> 0.5 </span>
&#x2713; <span class='blue'>show maps:get-opacity</span> <span class="gray">;; returns any number between 0 and 1</span> 
&#x2713; <span class='blue'>show maps:mouse-on</span> <span class="update">*** new ***</span>
&#x2713; <span class='blue'>show maps:mouse-off</span> <span class="update">*** new ***</span>
</pre>
<pre>
&#x2713; <span class='blue'>maps:set-all</span><span class='red'> "long-string-of-json" </span>
&#x2713; <span class='blue'>show maps:get-all</span> <span class="gray">;; returns "long-string-of-json"</span> 
</pre>
<!--<span class='blue'>maps:set-data</span> <span class="red">&lt;a string of json&gt;</span>
<span class='blue'>show maps:get-data</span> <span class="gray">;; &lt;a string of json&gt; </span>
<span class='blue'>maps:import-file</span> <span class="red">filename</span>
<span class='blue'>maps:export-file</span> -->

    </td>
  </tr>
  <tr>
    <td><img src="./images/map-se.png"></td>
    <td>
<pre>
MAP SETTINGS
</pre>
<pre>
&#x2713; <span class='blue'>maps:set-zoom</span><span class='red'> 3</span> 
&#x2713; <span class='blue'>show maps:get-zoom</span>  <span class="gray">;; returns 3</span>
&#x2713; <span class='blue'>maps:set-center-latlng</span> [<span class='red'> 30 97 </span>]
&#x2713; <span class='blue'>show maps:get-center-latlng</span> <span class="gray">;; returns [ 30 97 ]</span>
</pre>
    </td>
  </tr>
  <tr>
    <td><img src="./images/map-ma.png"></td>
    <td>
<pre>
MARKERS
</pre>
<pre>
&#x2713; <span class='blue'>maps:create-marker</span> <span class='red'>"marker-1" </span>[ <span class="red">0 0</span> ]
&#x2713; <span class='blue'>maps:create-markers </span> [ [ <span class='red'>"marker-1" </span>[ <span class="red">0 0</span> ] ] [ <span class='red'>"marker-2"</span>[ <span class="red">0 0</span> ] ] ]
&#x2713; <span class='blue'>show maps:get-marker </span> <span class="gray">;; [ "marker-1" [ 0 0 ] ]
&#x2713; <span class='blue'>show maps:get-markers </span> <span class="gray">;; [ [ "marker-1" [ 0 0 ] ] [ "marker-2" [ 0 0 ] ] ]
&#x2713; <span class='blue'>maps:delete-marker</span> <span class='red'>"marker-1"</span>
&#x2713; <span class='blue'>maps:delete-markers</span>
</pre>
<!--<span class='blue'>maps:hide-marker</span> <span class='red'>"marker-1"</span> 
<span class='blue'>maps:show-marker</span> <span class='red'>"marker-1"</span> -->
<pre>
&#x2713; <span class='blue'>maps:set-lat</span><span class='red'> "marker-1" 30 </span> 
&#x2713; <span class='blue'>maps:set-lng</span><span class='red'> "marker-1" 97 </span> 
&#x2713; <span class='blue'>maps:set-latlng</span><span class='red'> "marker-1" </span>[  <span class='red'>30 97</span> ] 
&#x2713; <span class='blue'>show maps:get-lat</span> <span class='red'>"marker-1"</span> <span class="gray">;; returns 30</span> 
&#x2713; <span class='blue'>show maps:get-lng</span> <span class='red'>"marker-1"</span> <span class="gray">;; returns 97</span>
&#x2713; <span class='blue'>show maps:get-latlng</span> <span class='red'>"marker-1"</span> <span class="gray">;; returns [ 30 97 ] </span>
</pre>
<pre>
&#x2713; <span class='blue'>maps:set-draggable</span> <span class='red'>"marker-1" </span><span class='purple'>true</span> <span class="update">*** new ***</span>
&#x2713; <span class='blue'>show maps:get-draggable</span> <span class='red'>"marker-1" </span><span class="gray">;; returns true</span> <span class="update">*** new ***</span>
&#x2713; <span class='blue'>maps:update-my-latlng</span> <span class="update">*** new ***</span>
&#x2713; <span class='blue'>show maps:get-my-latlng</span> <span class="gray">;; returns [ 30 97 ]</span> <span class="update">*** new ***</span>
</pre>
<!--<span class='blue'>maps:set-label</span><span class='red'> "point-1" "cat's marker-1"</span>-->
<!--<span class='blue'>show maps:get-label</span><span class='red'> "marker-1"</span> <span class="gray">;; returns "cat's point-1"</span>-->

    </td>
  </tr>
  
  <tr>
    <td><img src="./images/map-pa.png"></td>
    <td>
<pre>
PATHS
</pre>
<pre>
&#x2713; <span class='blue'>maps:create-path</span> <span class='red'>"path-1" </span>[ <span class="red">0 0</span> ] 
&#x2713; <span class='blue'>maps:create-paths </span> [ [ <span class='red'>"path-1" </span>[ <span class="red">0 0</span> ] ] [ <span class='red'>"marker-2"</span>[ <span class="red">0 0</span> ] ] ] 
&#x2713; <span class='blue'>maps:delete-path</span> <span class='red'>"path-1"</span> 
&#x2713; <span class='blue'>maps:delete-paths</span> 
&#x2713; <span class='blue'>maps:set-path-color</span><span class='red'> "path-1" "#555555" </span> 
&#x2713; <span class='blue'>show maps:get-path-color</span> <span class='red'>"path-1"</span> <span class="gray">;; returns "#555555"</span> 
&#x2713; <span class='blue'>maps:set-path-vertices</span><span class='red'> "path-1" [ [ 30 60 ] [ 31 59 ] [ 39 59 ] ] </span> 
&#x2713; <span class='blue'>show maps:get-path-vertices</span> <span class='red'>"path-1"</span> <span class="gray">;; returns [ [ 30 60 ] [ 31 59 ] [ 39 59 ] ]</span> 
</pre>
<!--<span class='blue'>maps:set-label</span><span class='red'> "point-1" "cat's marker-1"</span>-->
<!--<span class='blue'>show maps:get-label</span><span class='red'> "marker-1"</span> <span class="gray">;; returns "cat's point-1"</span>-->

    </td>
  </tr>
  
  <tr>
    <td><img src="./images/map-ob.png"></td>
    <td>
<pre>
OBJECTS (Including Markers and Paths)
</pre>
<pre>
&#x2713; <span class='blue'>set </span><span class='black'> new-object</span><span class='blue'> maps:get-object</span> <span class='red'> "path-1" </span><span class="gray">;; returns a list with a name and definition</span> 
&#x2713; <span class='blue'>maps:create-object</span> <span class='red'> new-object </span> 
&#x2713; <span class='blue'>set </span><span class='black'> new-objects</span><span class='blue'>maps:get-objects</span> <span class="gray">;; returns list of names and definitions of objects, in order of creation </span> 
&#x2713; <span class='blue'>maps:create-objects</span> <span class='red'> new-objects </span> 
&#x2713; <span class='blue'>maps:delete-object</span>  <span class='red'>"path-1" </span> 
&#x2713; <span class='blue'>maps:delete-objects</span> 
</pre>
<pre>
&#x2713; <span class='blue'>show maps:object-exists</span> <span class='red'> "path-1" </span> <span class="gray">;; returns boolean</span>  
&#x2713; <span class='blue'>maps:hide-object</span> <span class='red'> "path-1" </span> 
&#x2713; <span class='blue'>maps:show-object</span> <span class='red'> "path-1" </span>  </pre>
    </td>
  </tr>
  
  <tr>
    <td><img src="./images/map-trans.png"></td>
    <td>
  <pre>
TRANSLATION between Patch Coordinates and Latitude / Latitude
&#x2713; <span class='blue'>show maps:latlng-to-patch </span><span class='red'>[ 30 -97 ]</span> <span class="gray">;; returns latitude and longitude</span>
&#x2713; <span class='blue'>show maps:patch-to-latlng </span><span class='red'>[ 0 0 ]</span> <span class="gray">;; returns patch coordinates</span>
&#x2713; <span class='blue'>maps:update-map</span> ;; upon changing center or zoom of map, sync lat-lng and patch coords 
</pre>
  </tr>
</table>







<h2>Physics Extension</h2>

Box2DWeb Library. <a href="https://github.com/hecht-software/box2dweb">https://github.com/hecht-software/box2dweb</a>
<br>Documentation. <a href="http://www.iforce2d.net/b2dtut/">https://github.com/hecht-software/box2dweb</a>
<br>Physics UI <a href="https://remmler.org/gbcc/v3/video.html">https://remmler.org/gbcc/v3/video.html</a>
<br><br><b>NetLogo/Physics Example:</b> Import a world with friction, gravity, wrapping, linear
impulses and angular impulses.
The world can contain moving shapes, static shapes, joints and targets, 
any of which can be represented by turtles.
<!--<br><img alt="Patch Command" src="images/physics-ext1.png">
-->


<h3>Objects in a Box2D Physics World</h3>
<table class="physicsTable">
  <tr>
    <td>
      <img src="images/physics-lin.png">
    </td>
    <td>
      <br>A <b>line</b> has two endpoints and is a member of a body.
      <br>A <b>line</b> has friction, density and restitution.
      <br>A <b>line</b> can be defined with an absolute position, or with a position relative to a body.
    </td>
  </tr>
  <tr>
    <td>
      <img src="images/physics-cir.png">
    </td>
    <td>
      <br>A <b>circle</b> has a center and a radius and is a member of a body.
      <br>A <b>circle</b> has friction, density and restitution.
      
      <br>A <b>circle</b> can be defined with an absolute position, or with a position relative to a body.
    </td>
  </tr>
  <tr>
    <td>
      <img src="images/physics-tri.png">
    </td>
    <td>
      <br>A <b>polygon</b> has vertices and is a member of a body.
      <br>A <b>polygon</b> has friction, density and restitution.
      <br>A <b>polygon</b> can be defined with an absolute position, or with a position relative to a body.
    </td>
  </tr>
  <tr>
    <td>
      <img src="images/physics-bod.png">
    </td>
    <td>
      <br>A <b>body</b> can be comprised of shapes such as lines, circles and polygons.
      <br>A <b>body</b> can be rotated around it's center.
      <br>A <b>body</b> has linear and angular velocity.
      <br>A <b>body</b> is defined with an absolute position.
      <br><b>Bodies</b> can be dynamic (move and collide) or be static (only collide) or be a ghosts (only move).
    </td>
  </tr>
  <tr>
    <td>
      <img src="images/physics-tar.png">
    </td>
    <td>
      <br>A <b>target</b> is a location on a body, to which forces can be applied.
    </td>
  </tr>
</table>
<h3>Physics Extension</h3>
<table class="physicsTable">
  <tr>
    <td></td>
    <td>
<pre>
  <span class='green'>extensions</span> [ physics ]
</pre>
    </td>
  </tr>
  <tr>
    <td><img src="./images/physics-en.png"></td>
    <td>
<pre>
WORLD
</pre>
<pre>
&#x2713; <span class='blue'>physics:show-world</span>
&#x2713; <span class='blue'>physics:hide-world</span>
&#x2713; <span class='blue'>graph:show-toolbar</span> 
&#x2713; <span class='blue'>graph:hide-toolbar</span> 
</pre>
<pre>
<span class='blue'>physics:bring-to-front</span>
<span class='blue'>physics:send-to-back</span>
<span class='blue'>physics:set-world-offset</span><span class='red'> [ left top width height ] </span>
<span class='blue'>show physics:get-world-offset</span> <span class="gray">;; returns [ left top width height ]</span> 
<span class='blue'>physics:set-opacity</span><span class='red'> 0.5 </span>
<span class='blue'>show physics:get-opacity</span> <span class="gray">;; returns any number between 0 and 1</span> 
</pre>
<pre>
&#x2713; <span class='blue'>physics:set-all</span><span class='red'> "long-string-of-json" </span> 
&#x2713; <span class='blue'>show physics:get-all</span> <span class="gray">;; returns "long-string-of-json"</span> 
</pre>
<pre>
<span class='blue'>physics:reset-ticks</span> 
&#x2713; <span class='blue'>physics:tick</span> 
&#x2713; <<span class='blue'>show physics:get-tick</span> <span class="gray">;; returns list of collisions since last tick</span> 
&#x2713; <span class='blue'>physics:repaint</span> 
</pre>
<!--<span class='blue'>physics:set-data</span> <span class="red">&lt;a string of json&gt;</span>
<span class='blue'>show physics:get-data</span> <span class="gray">;; &lt;a string of json&gt; </span>
<span class='blue'>physics:import-file</span> <span class="red">filename</span>
<span class='blue'>physics:export-file</span> -->
    </td>
  </tr>
  <tr>
    <td><img src="./images/physics-se.png"></td>
    <td>
<pre>
;; WORLD SETTINGS
&#x2713; <span class='blue'>physics:set-gravity-xy</span><span class='red'> [ false true ]</span>
&#x2713; <span class='blue'>show physics:get-gravity-xy</span>  <span class="gray">;; returns [ false true ]</span>
&#x2713; <span class='blue'>physics:set-wrap-xy</span><span class='red'> [ true true ]</span> <span class="gray">;; </span> 
&#x2713; <span class='blue'>show physics:get-wrap-xy</span>  <span class="gray">;; returns [ true true ]</span>
<span id="physicsWorldSettings"><span class="more"><button>More</button></span><span id="physicsWorldSettingsInfo">
<span class='blue'>physics:set-time-step</span><span class='red'> 1 / 20</span> <span class="gray">;; length of time passed to simulate (seconds) </span> 
<span class='blue'>show physics:get-time-step</span>  <span class="gray">;; returns 1 / 20</span>
<span class='blue'>physics:set-velocity-iterations</span><span class='red'> 8 / 20</span> <span class="gray">;; how strongly to correct velocity </span> 
<span class='blue'>show physics:get-velocity-iterations</span>  <span class="gray">;; returns 8</span>
<span class='blue'>physics:set-position-iterations</span><span class='red'> 31 / 20</span> <span class="gray">;; how strongly to correct position </span> 
<span class='blue'>show physics:get-position-iterations</span>  <span class="gray">;; returns 3</span></span>
<span class="less"><button>Less</button></span></span>
</pre>
    </td>
  </tr>

  <tr>
    <td><img src="./images/physics-sh.png"></td>
    
    <td>
<pre>
;; LINES
<img class="obj" id="line-obj" src="./images/physics-line-obj.png">
<span class="line-obj-info">&#x2713; <span class='blue'>physics:create-line</span> <span class='red'>"line-1" "body-1"</span> <span class="gray">;; create a line attached to a body</span>
&#x2713; <span class='blue'>physics:set-line-relative-endpoints</span> <span class='red'>"line-1" [ 0 0 ] [ 2 2 ]</span> <span class="gray">;; name of line, coords of endpoints relative to center of mass of body</span> 
&#x2713; <span class='blue'>physics:set-line-endpoints</span> <span class='red'>"line-1" [ 10 10 ] [ 5 5 ]</span> <span class="gray">;; name of line, absolute coords of endpoints</span> 
&#x2713; <span class='blue'>show physics:get-line-relative-endpoints</span> <span class='red'>"line-1"</span> 
&#x2713; <span class='blue'>show physics:get-line-endpoints</span> <span class='red'>"line-1"</span></span></pre>
<pre>
;; CIRCLES
<img class="obj" id="circle-obj" src="./images/physics-circle-obj.png">
<span class="circle-obj-info">&#x2713; <span class='blue'>physics:create-circle</span> <span class='red'>"circle-1" "body-1"</span> <span class="gray">;; create a circle attached to a body</span>
&#x2713; <span class='blue'>physics:set-circle-radius</span> <span class='red'>"circle-1" 4</span> <span class="gray">;; name of circle, radius</span> 
&#x2713; <span class='blue'>physics:set-circle-relative-center</span> <span class='red'>"circle-1" [ 0 0 ]</span> <span class="gray">;; name of circle, coords of center of circle, relative to center of mass of body</span> 
&#x2713; <span class='blue'>physics:set-circle-center</span> <span class='red'>"circle-1" [ 10 10 ]</span> <span class="gray">;; name of circle, absolute coords of center of circle</span> 
&#x2713; <span class='blue'>show physics:get-circle-radius</span> <span class='red'>"circle-1"</span> 
&#x2713; <span class='blue'>show physics:get-circle-relative-center</span> <span class='red'>"circle-1"</span>
&#x2713; <span class='blue'>show physics:get-circle-center</span> <span class='red'>"circle-1"</span> </span></pre>
<pre>
;; RECTANGLES
<img class="obj" id="rectangle-obj" src="./images/physics-rect-obj.png"> 
<span class="rectangle-obj-info">&#x2713; <span class='blue'>physics:create-rectangle</span> <span class='red'>"rectangle-1" "body-1"</span> <span class="gray">;; create a rectangle attached to a body</span> 
&#x2713; <span class='blue'>physics:set-rectangle-relative-corners</span> <span class='red'>"rectangle-1" [ [ 10 10 ] [ 5 5 ] ]</span> <span class="gray">;; name of rectangle, coords of corners of rectangle</span> 
&#x2713; <span class='blue'>physics:set-rectangle-corners</span> <span class='red'>"polygon-1" [ [ 10 10 ] [ 5 5 ] ]</span> <span class="gray">;; name of rectangle, coords of corners of rectangle</span> 
&#x2713; <span class='blue'>show physics:get-rectangle-relative-corners</span> <span class='red'>"rectangle-1"</span> 
&#x2713; <span class='blue'>show physics:get-rectangle-corners</span> <span class='red'>"rectangle-1"</span> 
&#x2713; <span class='blue'>physics:set-rectangle-corners</span> <span class='red'>"polygon-1" [ [ 10 10 ] [ 5 5 ] ]</span> <span class="gray">;; name of rectangle, coords of corners of rectangle</span> 
&#x2713; <span class='blue'>show physics:set-rectangle-patch</span> <span class='red'>"rectangle-1" [ 0 0 ] </span> 
&#x2713; <span class='blue'>show physics:get-rectangle-patch</span> <span class='red'>"rectangle-1"</span><span class="gray">;; name of rectangle, patch coords</span>  </span></pre>
<pre>
;; POLYGONS
<img class="obj" id="polygon-obj" src="./images/physics-polygon-obj.png"> 
<span class="polygon-obj-info">&#x2713; <span class='blue'>physics:create-polygon</span> <span class='red'>"polygon-1" "body-1"</span> <span class="gray">;; create a polygon attached to a body</span> 
&#x2713; <span class='blue'>physics:set-polygon-relative-vertices</span> <span class='red'>"polygon-1" [ [ 10 10 ] [ 5 5 ] [ 5 10 ] ]</span> <span class="gray">;; name of line, coords of vertices for concave polygon, in clockwise order, relative to center of mass of body</span> 
&#x2713; <span class='blue'>physics:set-polygon-vertices</span> <span class='red'>"polygon-1" [ [ 10 10 ] [ 5 5 ] [ 5 10 ] ]</span> <span class="gray">;; name of line, absolute coords of vertices for concave polygon, in clockwise order</span> 
&#x2713; <span class='blue'>show physics:get-polygon-relative-vertices</span> <span class='red'>"polygon-1"</span>
&#x2713; <span class='blue'>show physics:get-polygon-vertices</span> <span class='red'>"polygon-1"</span></span></pre>
<pre>
;; SHAPES
<span class="obj" id="shape-obj"><img src="./images/physics-line-obj.png"> <img src="./images/physics-circle-obj.png"> <img src="./images/physics-polygon-obj.png"></span> </span>
<span class='shape-obj-info'>&#x2713; <span class="circle-shape-info"><span class='blue'>physics:set-friction</span> <span class='red'>"shape-1" 0.5</span> <span class="gray">;; name of shape, number between 0 and 1 (from no friction to a lot of friction)</span> 
&#x2713; <span class='blue'>physics:set-density</span> <span class='red'>"shape-1" 0.5</span> <span class="gray">;; name of shape, number between 0 and 1 (from not dense to very dense</span> 
&#x2713; <span class='blue'>physics:set-restitution</span> <span class='red'>"shape-1" 0.5</span> <span class="gray">;; name of shape, number between 0 and 1 (from not bouncy to very bouncy)</span> 
&#x2713; <span class='blue'>show physics:get-friction</span> <span class='red'>"shape-1"</span>
&#x2713; <span class='blue'>show physics:get-density</span> <span class='red'>"shape-1"</span>
&#x2713; <span class='blue'>show physics:get-restitution</span> <span class='red'>"shape-1"</span></span></pre>
<pre>
;; BODIES
<img class="obj" id="body-obj" src="./images/physics-body-obj.png">
<span class='body-obj-info' class="obj">&#x2713; <span class='blue'>physics:set-behavior</span> <span class='red'>"body-1" "dynamic"</span> <span class="gray">;; static (doesn't move, does collide), dynamic (does move and collide), ghost (does move, doesn't collide)</span> 
&#x2713; <span class='blue'>physics:set-body-xy</span> <span class='red'>"body-1" [ 0 0 ]</span> <span class="gray"></span> 
&#x2713; <span class='blue'>physics:set-angle</span> <span class='red'>"body-1" 180</span> <span class="gray">;; degrees</span> 
&#x2713; <span class='blue'>physics:set-linear-velocity</span> <span class='red'>"body-1" [ 0 0 ]</span> <span class="gray">;; vector </span> 
&#x2713; <span class='blue'>physics:set-angular-velocity</span> <span class='red'>"body-1" 180</span> <span class="gray">;; angle in degrees </span> 
&#x2713; <span class='blue'>show physics:get-behavior</span> <span class='red'>"body-1"</span>
&#x2713; <span class='blue'>show physics:get-body-xy</span> <span class='red'>"body-1"</span>
&#x2713; <span class='blue'>show physics:get-angle</span> <span class='red'>"body-1"</span>
&#x2713; <span class='blue'>show physics:get-linear-velocity</span> <span class='red'>"body-1"</span>
&#x2713; <span class='blue'>show physics:get-angular-velocity</span> <span class='red'>"body-1"</span></span></pre>
<pre>
;; TARGETS
<img class="obj" id="target-obj" src="./images/physics-target-obj.png">
<span class='target-obj-info'>&#x2713; <span class='blue'>physics:create-target</span> <span class='red'>"target-1" "body-1"</span> 
&#x2713; <span class='blue'>physics:set-target-relative-xy</span> <span class='red'>"target-1" [ 0 0 ]</span> <span class="gray">;; name of target, coords relative to center of mass of body</span> 
&#x2713; <span class='blue'>physics:set-target-xy</span> <span class='red'>"target-1" [ 10 10 ]</span> <span class="gray">;; name of target, absolute coords</span> 
&#x2713; <span class='blue'>show physics:get-target-relative-xy</span> <span class='red'>"target-1"</span>
&#x2713; <span class='blue'>show physics:get-target-xy</span> <span class='red'>"target-1"</span>
&#x2713; <span class='blue'>physics:delete-target</span> <span class='red'>"target-1"</span> 
&#x2713; <span class='blue'>physics:delete-targets</span></span></pre>
<pre>
;; OBJECTS
<span id="object-obj" class="obj"><img src="./images/physics-line-obj.png"> <img src="./images/physics-circle-obj.png"> <img src="./images/physics-polygon-obj.png"> <img src="./images/physics-target-obj.png"></span>
<span class='object-obj-info'><span class='blue'>physics:set-body-id</span> <span class='red'>"shape-1" "body-2"</span> <span class="gray">;; connect line, circle, polygon or target to a different body</span> 
&#x2713; <span class='blue'>show physics:get-body-id</span> <span class='red'>"shape-1"</span> <span class="gray">;; get which body the shape or target is connected to</span>
&#x2713; <span class='blue'>set</span><span class='black'> new-objects</span><span class='blue'> physics:get-objects</span> <span class="gray">;; returns list of objects</span>
&#x2713; <span class='blue'>physics:create-objects</span> <span class='black'> new-objects </span>
&#x2713; <span class='blue'>set </span><span class='black'> new-object</span><span class='blue'> physics:get-object</span> <span class="red">"shape-1"</span><span class="gray">;; returns a list with a shape and a description</span>
&#x2713; <span class='blue'>physics:create-object</span> <span class='black'> new-object</span>
&#x2713; <span class='blue'>show physics:get-object-type</span> <span class='red'> "my-triangle-1" </span> <span class="gray">;; returns "triangle"</span> 
&#x2713; <span class='blue'>physics:delete-object</span> <span class='red'>"object-1"</span> 
&#x2713; <span class='blue'>physics:delete-objects</span>
<span class='blue'>physics:object-exists</span>
&#x2713; <span class='blue'>show physics:show-objects</span> 
&#x2713; <span class='blue'>show physics:hide-objects</span> </span></pre>
<pre>
;; SHAPES AND BODIES
<span id="shape-body-obj" class="obj"><img src="./images/physics-line-obj.png"> <img src="./images/physics-circle-obj.png"> <img src="./images/physics-polygon-obj.png"> <img src="./images/physics-body-obj.png"></span>
<span class='shape-body-obj-info'><span class='blue'>show physics:get-mass</span> <span class='red'>"shape-1"</span>
<span class='blue'>show physics:get-center-of-mass</span> <span class='red'>"shape-1"</span></span></span></pre>

</div>

    </td>
  </tr>

    <tr>
      <td><img src="./images/physics-ta.png"></td>
      <td>
  <pre>
;; APPLY FORCE AT TARGET
&#x2713; <span class='blue'>physics:apply-force</span> <span class='red'>"target-1" 10 180</span> <span class="gray">;; applies with force of 10 and angle of 180 degrees</span> 
&#x2713; <span class='blue'>physics:apply-force-relative-angle</span> <span class='red'>"target-1" 10 20</span> <span class="gray">;; applies with force of 10 and relative angle of 20 degrees</span> 
&#x2713; <span class='blue'>physics:apply-linear-impulse</span> <span class='red'>"target-1" 10 180</span> <span class="gray">;; applies with force of 10 and angle of 180 degrees </span> 
&#x2713; <span class='blue'>physics:apply-linear-impulse-relative-angle</span> <span class='red'>"target-1" 10 20</span> <span class="gray">;; applies with force of 10 and relative angle of 20 degrees </span> 
&#x2713; <span class='blue'>physics:apply-torque</span> <span class='red'>"target-1" 10 </span> <span class="gray">;; applies with force of 10 </span>
&#x2713; <span class='blue'>physics:apply-angular-impulse</span> <span class='red'>"target-1" 10</span> <span class="gray">;; applies with force of 10</span>
  </pre>
      </td>
    </tr>
    
    <tr>
      <td></td>
      <td>
<pre>
  ;; Connections between Turtles and Objects
&#x2713; <span class='blue'>physics:connect-who-to-object</span><span class='red'> who object-id</span>
&#x2713; <span class='blue'>show physics:get-connected</span><span class='gray'>;; get list of pairs of turtle ids to object ids </span>
&#x2713; <span class='blue'>physics:disconnect-who</span><span class='red'> who </span>
</pre>
      </td>
      <td>
      </td>
    </tr>
    
</table>


<span id="physics-ideas-obj" class="obj">
<h3><input type="checkbox" selected>Ideas</h3>
<div class='physics-ideas-obj-info'>
<table>
<tr>
  <td>
    1. Apply a force to each bristlebot
    <br>
    <img width="200" src="./images/physics-1.png">
    <br>
  </td>
  <td>
<pre>
<span class='green'>extensions</span> [ physics ]
<span class='blue'>create-turtles</span><span class="red"> 6</span> [
  <span class='blue'>set</span><span class='purple'> shape</span><span class='red'> "turtle"</span>
  <span class='gray'>;; create a circle, and make it belong to a body
  <span class='blue'>physics:create-circle</span> (</span><span class='purple'>word</span> <span class='red'>"circle-</span><span class='purple'> who</span>) (<span class='purple'>word<span class='red'> "body-"</span> <span class='purple'>who</span> )
  <span class='gray'>;; place the body, somewhere</span>
  <span class='blue'>physics:set-body-xy</span> (</span><span class='red'>"body-1"</span> [ <span class="purple">xcor ycor </span> ]
  <span class='blue'>physics:set-circle-relative-xy</span> (</span><span class='purple'>word</span> <span class='red'>"circle-"</span><span class='purple'> who</span>) [ <span class='red'>0 0</span> ]
  <span class='blue'>physics:set-radius</span> (</span><span class='purple'>word</span> <span class='red'>"circle-"</span><span class='purple'> who</span>) <span class='red'>2</span>
  <span class='gray'>;; create a target at the center of a body
  <span class='blue'>physics:create-target</span> (</span><span class='purple'>word</span> <span class='red'>"target-"</span><span class='purple'> who</span>) (<span class='purple'>word "body-"</span><span class='purple'> who</span>) 
  <span class='blue'>physics:set-target-relative-xy</span> (</span><span class='purple'>word</span> <span class='red'>"target-"</span><span class='purple'> who</span>) [ <span class='red'>0 0</span> ]
  <span class='gray'>;; connect the turtle to the body to which the circle and target belong
  <span class='blue'>physics:connect-who-to-object</span><span class='red'> who </span> (<span class='purple'>word<span class='red'> "body-"</span> <span class='purple'>who</span> )
]
<span class='blue'>ask turtles</span> [
  <span class='gray'>;; apply a force of 10, to a target on a body, at a relative angle of 90 degrees </span>
  <span class='blue'>physics:apply-force-relative-angle</span> (<span class='purple'>word</span><span class='red'> "target-"</span><span class='purple'> who)</span> <span class='red'>10 90</span>
]
</pre>
  </td>
</tr>
<tr>
  <td>
    2. Apply a linear force (white arrow)
    <br>to a Pokemon card
    <br>
    <img width="200" src="./images/physics-3.png">
  </td>
  <td>
<pre>
<span class='green'>extensions</span> [ physics ]
<span class='gray'>;; create a polygon, and make it belong to a body</span>
<span class='blue'>physics:create-polygon</span> <span class="red">"rectangle-1" "body-1"</span>
<span class="blue">physics:set-polygon-vertices</span> [ [ <span class="red">0 0 </span>] [ <span class="red">-4 0</span> ] [ <span class="red">-4 4</span> ] [ <span class="red">0 4</span> ] ]
<span class='gray'>;; create a rectanglular turtle and connect it to the body</span>
<span class='blue'>create-turtles</span><span class="red"> 1</span> [
  <span class='blue'>set</span><span class='purple'> shape</span><span class='red'> "rectangle"</span>
  <span class='blue'>physics:connect-who-to-object</span><span class='red'> who </span> <span class="red">body-1</span>
]
<span class='gray'>;; create a target, offset from the center of a body</span>
<span class='blue'>physics:create-target</span> <span class="red">"target-white" "body-1"</span>
<span class="blue">physics:set-target-relative-xy</span> <span class="red">"target-white"</span> [<span class="red"> 2 2</span> ]
<span class='gray'>;; create an arrow shaped turtle and connect it to the target</span>
<span class='blue'>create-turtles</span><span class="red"> 1</span> [
  <span class='blue'>set</span><span class='purple'> shape</span><span class='red'> "arrow"</span>
  <span class='blue'>physics:connect-who-to-object</span><span class='red'> who </span><span class="red">"target-white"</span>
]
<span class='gray'>;; apply a force of 10, to a target on a body, at a relative angle of 35 degrees </span>
<span class='blue'>physics:apply-force-relative-angle</span> <span class="red">"target-white" 10 35</span>
</pre>
  </td>
</tr>
<tr>
  <td>
    3. Apply a linear force (yellow arrow)
    <br>and an angular force (red arrow)
    <br>
    <img width="200" src="./images/physics-2.png">
  </td>
  <td>
<pre>
<span class='gray'>;; apply a linear impulse of 12, at a relative angle of -30 degrees </span>
<span class='blue'>physics:apply-linear-impulse-relative-angle</span> <span class="red">"target-yellow" 12 -30</span>
<span class='gray'>;; apply an angular impulse of 20 </span>
<span class='blue'>physics:apply-angular-impulse</span> <span class="red">"target-red" 10</span>
</pre>
  </td>
</tr>
<tr>
  <td>
    4. In ideas 2 and 3, above,
    <br>something else needs to be happening to make
    <br>two touch become one touch.
  </td>
  <td>
  </td>
</tr>
</table>
</div>

<h2>Image Extension</h2>  
 <!--<br><img alt="Patch Command" src="images/image-ext-3.png">
 -->
 <h3>Image Extension</h3>
<pre>
extensions [ image ]
</pre>

<h3>Commands</h3>

<!--
<b>image:import-pcolors</b> <i>"cats.png"</i> <span class='blue'>;; unimplemented</span>
-->
<pre>
<span class="blue">image:clear</span>

&#x2713; <span class="blue">image:zoom</span> <span class="red">3</span> <span class='gray'>;; zooms so that there are 3 patches from an edge to the center patch</span>

&#x2713; <span class="blue">image:reset-zoom</span>

<span class="blue">image:import</span> <span class="red">"cats.png"</span><span class='gray'>;; imports an image file, local to the app</span>

<span class="blue">image:import-from-user</span> <span class="red">user-id</span><span class='gray'>;; imports the topmost view, plot or avatar displayed on a user's canvas</span>
</pre>
<!--
<h2>Additional GbCC Commands</h2>  
 
 <h3>Export</h3>
<pre>
&#x2713; [ EXPORT BUTTON ] <span class='gray'>;; button exports a json file and an html file</span>
</pre>
<p>
<a href="./extensions-mar-18.html">Previous documentation using key/value pairs</a>-->
</html>