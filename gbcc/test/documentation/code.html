<html>
	<head>
		<title>GbCC 3.0 Code Snippets</title>
		<link rel="stylesheet" href="css/netlogo.css" type="text/css">
		<link rel="stylesheet" type="text/css" href="css/style3.css" />
    <script type="text/javascript" src="js/jquery.min.js"></script>
		<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
		<style>
			img {border-radius:0%;}
			img.turtle {width:60px; height: 60px; border: 4px solid #ddd; cursor:pointer;}
	    /*
			.selected#yellow1 { border:6px solid yellow; }
	    .selected#red1 { border:6px solid red; }
	    .selected#blue1 { border:6px solid blue; }
	    .selected#purple1 { border:6px solid purple; }
	    .selected#orange1 { border:6px solid  #ff8000; }
	    .selected#pink1 { border:6px solid deeppink; }
	    .selected#white1 {border: 6px solid green; }
			*/
			.selected#yellow1 { border:4px solid orange; }
	    .selected#red1 { border:4px solid orange; }
	    .selected#blue1 { border:4px solid orange; }
	    .selected#purple1 { border:4px solid orange; }
	    .selected#orange1 { border:4px solid orange; }
	    .selected#pink1 { border:4px solid orange; }
	    .selected#white1 {border: 4px solid orange; }
	    .selected#gray1 {border: 4px solid orange; }
			table {text-align:center;}
			#menu {padding-top:5px; padding-bottom:0px}
			.spacer { height:72px;border:none;}
			span.blue {color: blue;border:none;}
			span.red {color: red;border:none;}
			span.green {color:darkviolet;border:none;}
		</style>
		<script>
			jQuery(document).ready(function() {
				$(".turtle").click(function() {
					var id = $(this).attr("id");
					$(".turtle").removeClass("selected");
					$(this).addClass("selected");
					$(".container").hide();
					$(".container."+id).show();
				});
				$("#yellow1").click();
			});
		</script>
	</head>
	<body>
		<h1>NetLogo GbCC 3.0 Code Snippets</h1>
		<div id="menu">
			<img src="./images/yellow-turtle.png" class="turtle" id="yellow1">
			<img src="./images/pink-turtle.png" class="turtle" id="pink1">
			<img src="./images/blue-turtle.png" class="turtle" id="blue1">
			<img src="./images/white-turtle.png" class="turtle" id="white1">
			<img src="./images/purple-turtle.png" class="turtle" id="purple1">
			<img src="./images/orange-turtle.png" class="turtle" id="orange1">
			<img src="./images/red-turtle.png" class="turtle" id="red1">
			<img src="./images/gray-turtle.png" class="turtle" id="gray1">
		</div>
		<div class="container yellow1">
			<h2>Hello World</h2>
			<img src="./images/code-yellow-1.png" style="width:600px">
			<h2>NetLogo Code</h2>
<pre>
to gbcc-on-enter [ user-id role ]
  show (word "Hello world. User " user-id " entered.")
end
</pre>
		</div>
		<div class="container pink1">
			<h2>Share Global Variables</h2>
			<img src="./images/code-pink-2.png" style="height:150px">
			<h2>NetLogo Code</h2>
<pre>
to share
  gbcc:broadcast-plot "my-plot" "populations"
  gbcc:store-globals
end

to gbcc-on-select [ user-id role ]
  gbcc:restore-globals-from-user user-id
end
</pre>
		</div>
		<div class="container white1">
			<h2>Use Direction Buttons to Move Turtle and it's GeoGebra Point</h2>
			<img src="./images/code-white-2.png" style="height:150px">
			<h2>NetLogo Code</h2>
<pre>
to setup
  ;; note choose one of the following
  graph:show-graph [ ] ;; if you want to show the default graph
  graph:import-file "geogebra-default.ggb" ;; if you want to a specific ggb file
end 

to create-turtle-and-point
  create-turtles 1 [
    set my-turtle-number who
    set patch-coords (list xcor ycor)
    set graph-coords graph:patch-to-graph patch-coords
    ;; point names must only contain letters
    graph:create-point "mypoint" graph-coords
  ]
end

to go-up
  go-forward 0
end

to go-down
  go-forward 180
end

to go-left
  go-forward 270
end

to go-right
  go-forward 90
end

to go-forward [ direction ]
  ask turtle my-turtle-number [
    set heading direction
    fd 1
    set graph-coords graph:patch-to-graph (list xcor ycor)
    graph:set-xy "mypoint" graph-coords
  ]
end
</pre>
		</div>
		<div class="container blue1">
			<h2>Share Code and Run It</h2>
			<img src="./images/code-blue-2.png" style="height:150px">
			<h2>NetLogo Code</h2>
<pre>
to share
  gbcc:broadcast-view "my-view"
  gbcc:set "code" my-code
end

to gbcc-on-select [ user-id role ]
  set code-example gbcc:get-from-user user-id "code"
end

to run-code
  run code-example 
end
</pre>
		</div>
		<div class="container purple1">
			<h2>Turtles Walk Around at the Same Time</h2>
			<img src="./images/code-purple-2.png" style="height:150px">
			<h2>NetLogo Code</h2>
<pre>
to setup 
  create-turtles 1 [ 
    set my-turtle-number who 
    gbcc:set "shape" shape
    gbcc:set "color" color	
    gbcc:broadcast-avatar shape color ""
  ]
end

to go-up
  go-forward 0
end

to go-down
  go-forward 180
end

to go-left
  go-forward 270
end

to go-right
  go-forward 90
end

to go-forward [ direction ]
  ask turtle my-turtle-number [
    set heading direction
    fd 1
    gbcc:set "xcor" xcor
    gbcc:set "ycor" ycor 
  ]
end

to gbcc-on-select [ user-id role ]
  if (user-id != gbcc:who-am-i) [	
    create-turtles 1 [
      set id user-id
      set shape gbcc:get-from-user user-id "shape"
      set color gbcc:get-from-user user-id "color"
      set xcor gbcc:get-from-user user-id "xcor"
      set ycor gbcc:get-from-user user-id "ycor"
    ]
  ]
end

to gbcc-on-deselect [ user-id role ]
  if (user-id != gbcc:who-am-i) [
    ask turtles with [ id = user-id ] [ die ]
  ]
end

to gbcc-on-go [ user-id role ]
  ask turtles with [ id = user-id ] [
    set xcor gbcc:get-from-user user-id "xcor"
    set ycor gbcc:get-from-user user-id "ycor"
  ] 
end
</pre>
		</div>
		<div class="container red1">
			<h2>Add forces to a bristlebot</h2>
			<img src="./images/code-red-2.png" style="height:150px">
			<h2>NetLogo Code (NOT TESTED)</h2>
<pre>
to setup
  physics:create-rectangle "belly" "my-bristlebot"
  physics:set-body-xy "my-bristlebot" [ 5 5 ]
  physics:set-rectangle-relative-coords "belly" [ 0 0 ] [ 4 4 ]
  physics:create-polygon "head" "my-bristlebot"
  physics:set-polygon-coords "head" [ [ -1 -1 ] [ 0 0 ] [ 1 1 ] ]
  physics:set-behavior "my-bristlebot" "dynamic"
  physics:create-target "target-0" "my-bristlebot"
  physics:set-target-relative-xy "target" [ 0 0 ]
end

to apply-force 
  physics:apply-force-relative-angle "target-0" my-angle my-force
end

to shift-target-up
  let center physics:get-target-relative-center "target-0"
  physics:set-target-relative-center "target-0" (list item 0 center (item 0 center + 1) )
end

to shift-target-down
  let center physics:get-target-relative-center "target-0"
  physics:set-target-relative-center "target-0" (list item 0 center (item 0 center - 1) 
end

to go
  every 0.1 [
    tick
  ]
end
</pre>
		</div>
		<div class="container orange1">
			<h2>Turtles Explore Small Part of Big World</h2>
			<img src="./images/code-orange-2.png" style="height:150px">
			<h2>NetLogo Code</h2>
<pre>
to gbcc-on-enter [ user-id role ]
  if (user-id = gbcc:who-am-i and role = "student") [
    image:zoom 5
    create-turtles 1 [
      set id user-id
      set my-turtle-number who
      setxy random-pxcor random-pycor
      set size 2
      set shape "circle"
      gbcc:set "xcor" xcor
      gbcc:set "ycor" ycor
      gbcc:set "color" color
      set pcolor color + 2
      gbcc:broadcast-avatar shape color ""
    ]
    follow turtle my-turtle-number
  ]
  if (user-id != gbcc:who-am-i ) [
    create-turtles 1 [ 
      set id user-id
      set size 2
      set shape "circle"
      ht 
      set setup? false
    ]
  ]
end

to gbcc-on-select [ user-id role ]
  if (user-id != gbcc:who-am-i ) [
    ask turtles with [ id = user-id ] [ 
      if (not setup?) [ 
        set setup? true 
        set color gbcc:get-from-user id "color"
        st
      ]
      set xcor gbcc:get-from-user user-id "xcor" 
      set ycor gbcc:get-from-user user-id "ycor" 
      set pcolor color + 2
    ]
  ]
end

to go-up
  go-forward 0
end

to go-down
  go-forward 180
end

to go-left
  go-forward 270
end

to go-right
  go-forward 90
end

to go-forward [ direction ]
  ask turtle my-turtle-number [
    set heading direction
    fd 1
    gbcc:set "xcor" xcor
    gbcc:set "ycor" ycor 
    set pcolor color + 2
  ]
end

to gbcc-on-go [ user-id role ]
  if (role = "student") [
    ask turtles with [ id = user-id ] [
      set xcor gbcc:get-from-user user-id "xcor"
      set ycor gbcc:get-from-user user-id "ycor"
      set pcolor color + 2
    ]
  ]
end
</pre>
		</div>
		<div class="container gray1">
			<h2>Disease</h2>
			<img src="./images/code-gray-2.png" style="height:150px">
			<h2>NetLogo Code (NOT TESTED)</h2>
<pre>

;; ------- Users run their own Disease model, with actions from other users.
to go-up
  ask turtle my-turtle-number [ set heading 0 fd 1 gbcc:set "ycor" ycor ]
end

to user-listen-to-user [ user-id ]
  ask turtles with [ id = user-id ] [ set ycor gbcc:get-from-user user-id "ycor" ]
end

;; ------- Students participate in class Disease model (optional: teacher shares current state of world)
to go-up
  ask turtle my-turtle-number [ set heading 0 fd 1 gbcc:set "ycor" ycor ]
end

to teacher-listen-to-student [ user-id ]
  ask turtles with [ id = user-id ] [ set ycor gbcc:get-from-user user-id "ycor" ]
end

to student-listen-to-teacher ;; optional, if students don't have their own view
  ask turtles [ set ycor gbcc:get-from-user id "ycor" ]
end

;; ------ Students participate in class Disease model (teacher shares stream of updates to world)
to go-up
  <span class='green'>gbcc:add-to-stream "up" (my-user-id 1)</span>
end

to teacher-listen-to-student [ user-id ]
  let input <span class='green'>gbcc:get-stream-from-user-id user-id "up"</span>
  let output [ ]
  foreach input [ [ turtle-id step ] -> 
    ask turtles with [ id = turtle-id ] [ 
      set heading 0 
      fd step
      set output lput (list turtle-id ycor) output
      <span class='blue'>gbcc:set (word id "-ycor") ycor</span>
    ] 
  ]
  foreach student-user-id-list [ student-id ->
    <span class='red'>gbcc:add-to-stream (word student-id "-ycor") output</span>
  ]
end

to student-setup-listen-to-teacher [
  ask turtles [ set ycor <span class='blue'>gbcc:get-from-user teacher-user-id (word id "-ycor")</span> ]
]

to student-listen-to-teacher [
  let input <span class='red'>gbcc:get-stream-from-user teacher-user-id (word my-user-id "-ycor")</span>
  foreach input [ [ turtle-id turtle-ycor ] ->
    ask turtles with [ id = turtle-id ] [ set ycor turtle-ycor ]
  ]
]
</pre>
	</div>
		
		
		
		
	</body>
</html>
